::-webkit-scrollbar
  width: 5px
  height: 5px

::-webkit-scrollbar-track
  background-color: $color-background-dark

::-webkit-scrollbar-thumb
  background-color: rgba($color-background-darker, .3)

// Override Pillar's notifications style
#notifications
  right: 15px
  top: 55px

#col_main::-webkit-scrollbar-thumb
  background-color: transparent

#col_main:hover::-webkit-scrollbar-thumb
  background-color: rgba($color-background-darker, .3)

#col_right, #col_main
  overflow-y: auto
  padding-left: 0 !important // override sidebar offset from Pillar

  &.fullscreen
    position: absolute
    width: 100%

    #list-item
      height: auto
      margin: 0 auto
      max-width: 700px
      overflow-x: initial
      padding-top: 35px

      .item-media
        img
          max-width: 110%

      .item-view
        &.text
          .item-body
            border-top: thin solid $color-background
            margin-top: 15px

        &.link
          .item-body
            border: thin solid $color-background-dark
            border-radius: 3px
            margin-top: 15px

#col_main
  +media-lg
    width: 45%
  background-color: $color-background-dark

#col_right
  +media-lg
    width: 65%
  background-color: $color-background-dark
  transition: width 250ms ease-in-out

#app-header
  display: flex
  flex-direction: column

#app-loader
  background-color: $color-secondary
  height: 0
  left: 0
  position: absolute
  right: 0
  top: 0
  z-index: 99

  visibility: hidden
  opacity: 0
  transition: all ease-in-out 50ms

  background: linear-gradient(45deg, lighten($color-primary, 40%), $color-secondary, $color-secondary, lighten($color-primary, 40%))
  background-size: 50% 100%
  -webkit-animation: none
  -moz-animation: none
  animation: none

  &.active
    height: 2px
    visibility: visible
    opacity: 1
    -webkit-animation: fLoaderBackground 3s linear infinite
    -moz-animation: fLoaderBackground 3s linear infinite
    animation: fLoaderBackground 3s linear infinite

#app-overlay
  align-items: center
  justify-content: center
  bottom: 0
  display: flex
  left: 0
  opacity: 0
  pointer-events: none
  position: fixed
  right: 0
  top: 0
  visibility: hidden
  z-index: 9

  .overlay-background
    bottom: 0
    transition: opacity 500ms ease-out
    position: fixed
    top: 0
    left: 0
    right: 0
    opacity: 0

  &.active
    opacity: 1
    pointer-events: initial
    visibility: visible

    .overlay-background
      opacity: 1

  &.submit
    .overlay-background
      background: rgba($color-primary, .8)

    .dialog-box
      top: 0

.dialog-box
  align-self: flex-start
  background: $color-background
  border-bottom-left-radius: 3px
  border-bottom-right-radius: 3px
  box-shadow: 2px 2px 0 rgba(black, .1)
  display: flex
  flex-direction: column
  max-width: 720px
  position: relative
  top: -50%
  transition: top 500ms ease-out
  width: 100%

.dialog-box
  #col_main
    background-color: initial
    width: 100%

    .item-edit-tab
      padding: 10px

    .item-edit-header
      padding: 10px 20px 20px

.app-branding
  color: $color-primary
  font-size: $font-size-large
  padding: 10px
  text-decoration: none

button, .btn
  padding-top: 4px
  padding-bottom: 4px
  white-space: nowrap

  +button($color-primary, 3px, false)
  text-decoration: none
  font-weight: bold
  font-size: $font-size-small

  &.publish
    +button($color-success, 3px, true)
  &.cancel
    +button($color-text-light, 3px)
  &.delete
    +button($color-danger, 3px)

  &.btn-success
    +button($color-success, 3px, true)
  &.btn-info
    +button($color-info, 3px, true)
  &.btn-danger
    +button($color-danger, 3px, true)
  &.btn-warning
    +button($color-warning, 3px, true)

  &.btn-submit
    +button($color-primary-active, 3px, true)

.btn-group
  align-items: center
  border-radius: 3px
  color: $color-text
  display: inline-flex
  position: relative

  label
    font-size: 1em
    padding-right: 10px

  button, .btn
    border-top-right-radius: 0 !important
    border-bottom-right-radius: 0 !important

    &.wgt-dropdown-toggle
      border-left: none
      padding-left: 5px
      padding-right: 5px
      border-top-left-radius: 0 !important
      border-bottom-left-radius: 0 !important
      border-top-right-radius: 3px !important
      border-bottom-right-radius: 3px !important

      > i
        margin: 0

select, textarea, input
  box-shadow: 1px 2px 2px $color-background-dark
  border-radius: 3px

  &:focus
    background-color: white !important
    box-shadow: 1px 2px 2px $color-background-dark, inset 0 0 0 1px $color-primary-active
    border-color: $color-primary-active

/* Navigation */
nav
  &.nav-bar
    z-index: 9

    > ul
      display: flex
      align-items: center
      margin: 0
      padding: 0
      > li
        align-items: center
        display: inline-flex
        margin-right: 15px

        &:last-child
          margin-right: 0

        &.dropdown
          position: relative

        a.login
          border: thin solid $color-primary
          border-radius: 3px
          margin-right: 15px
          padding: 5px 25px
          text-decoration: none

.dropdown-toggle
  cursor: pointer

  &:hover
    img.avatar
      transform: scale(1.1)

  img.avatar
    border-radius: 50%
    width: 32px
    height: 32px
    background-color: $color-background-light
    padding: 3px
    margin-right: 10px
    transition: transform 100ms ease-in-out, background-color 150ms ease-in-out

  .dropdown-toggle-icon
    position: absolute
    bottom: 0
    right: 0

ul.dropdown-menu
  border-bottom-left-radius: 3px
  border-bottom-right-radius: 3px
  display: none
  flex-direction: column
  list-style: none
  margin: 2px 0 0 0
  padding: 0
  position: absolute
  top: 100%
  min-width: 150px
  visibility: hidden
  z-index: 1

  &.right
    right: 0

  li
    display: flex
    align-items: center
    border-bottom: thin solid $color-background

    a, span
      align-items: center
      display: flex
      color: $color-text-dark
      cursor: pointer
      font-weight: normal
      padding: 10px
      text-decoration: none
      text-shadow: none
      width: 100%

      &:hover
        color: $color-primary-active

      i
        display: inline-block
        margin-right: 10px

  &.active
    display: flex
    visibility: visible

.wgt-search
  position: relative

  .wgt-search-icon
    position: absolute
    right: 15px
    top: 6px
    color: $color-text-dark-primary

  input
    background-color: rgba($color-background, .8)
    padding: 6px 10px
    border: none
    border-radius: 3px
    box-shadow: none
    width: auto
    float: right
    margin: 0 10px

    &::placeholder
      color: $color-text-dark-primary


.emoji
  height: 16px
  width: 16px
  vertical-align: middle
  padding: 0 1px

h1 .emoji
  width: 32px
  height: 32px

.user-avatar
  width: 28px
  height: 28px
  margin: 0
  padding: 0
  border-radius: 50%
  vertical-align: middle

.welcome
  width: 100%
  height: 100%
  display: flex
  flex-direction: column
  align-items: center

  h2
    padding-top: 25px

.flyout.notifications
  top: 40px


.d-header
  background-color: $color-background-lighter
  box-shadow: 0 1px 3px rgba(black, .1)
  display: flex
  padding: 0 10px
  position: relative
  z-index: 2

  &-background
    background-color: $color-background-dark
    background-size: cover
    height: 100%
    left: 0
    position: absolute
    right: 0
    top: 0
    width: 100%
    z-index: -1

  $header-logo-size: 60px
  &-logo
    align-items: center
    border-radius: 3px
    display: flex
    justify-content: center
    height: $header-logo-size
    position: relative
    width: $header-logo-size

    img
      +position-center-translate
      margin: 0 5px
      max-width: 100%

  &-title
    display: flex
    flex-direction: column
    justify-content: center
    padding-left: 25px

    .title
      font-size: $font-size-large
      text-decoration: none

    .summary
      cursor: default
      display: inline-block
      font-size: $font-size-small
      left: -2px
      margin-top: 10px
      position: relative

    .title span,
    .summary span
      +text-background($color-text-dark, $color-background-lighter, 0, 3px 0)

  &-action
    align-items: center
    justify-content: center
    display: flex
    flex-direction: column
    margin-left: auto

/* General style for activities in all places */
.d-activity
  font-size: .85em

  $activity-highlight-color: #00cc9f
  ul
    cursor: default
    margin: 0
    padding: 0
    color: $color-text-dark-primary
    list-style: none

    li
      padding: 2px 5px 5px 25px
      position: relative

      span.date
        color: darken($activity-highlight-color, 5%)

      /* Left Dot */
      &:after
        content: ''
        display: block
        position: absolute
        top: 0
        left: 0
        width: 16px
        height: 16px
        border-radius: 50%
        background-color: $activity-highlight-color
        border: thin solid $activity-highlight-color
        transition: all 250ms ease-in-out
        z-index: 0

      /* Left Line */
      &:before
        content: ''
        display: block
        position: absolute
        top: 10px
        left: 8px
        width: 1px
        height: 100%
        background-color: $activity-highlight-color
        transition: all 250ms ease-in-out

      &:last-child
        &:before
          background-color: transparent

    span.actor
      padding: 0 5px
      color: $color-text-dark

    img.actor-avatar
      width: 16px
      height: 16px
      border-radius: 50%
      margin-right: 5px
      position: absolute
      top: 1px
      left: 1px
      z-index: 1


#notification-pop
  &.code-403, &.code-422
    background-color: $color-danger

    .nc-avatar
      display: none


.wgt-toggle-fullscreen
  cursor: pointer

  &.active
    color: $color-secondary


$wgt-dropdown-width: 150px
.wgt-dropdown
  &-root
    position: relative
    margin-left: 15px
    margin-right: 15px

  &-header
    align-items: center
    background-color: $color-background-lighter
    box-shadow: inset 0 0 0 1px $color-background-dark
    border-radius: 3px
    color: $color-primary
    cursor: pointer
    display: flex
    font:
      family: $font-headings
      weight: lighter
    min-width: $wgt-dropdown-width
    min-height: $widget-min-height
    padding-left: 10px
    padding-right: 10px
    user-select: none

    &:after
      content: '\e838'
      font-family: "pillar-font"
      margin-left: auto

    &:hover
      color: $color-secondary

  &-body
    border: thin solid $color-background-dark
    border-bottom-left-radius: 3px
    border-bottom-right-radius: 3px
    box-shadow: 1px 2px 2px $color-background-dark
    display: none
    position: absolute
    top: 100%
    z-index: 1

    &.active
      display: block

  &-link
    background-color: $color-background-light
    border-top: thin solid $color-background-dark
    display: flex
    padding: 10px 10px
    min-width: $wgt-dropdown-width
    text-decoration: none

    &:hover
      background-color: $color-background-lighter
      color: $color-secondary

  &-active
    .wgt-dropdown-link
      background-color: $color-background-lighter
      color: $color-secondary
      box-shadow: inset 3px 0 $color-secondary

  &-count
    margin-left: auto
    color: $color-text-dark-hint

  &-toggle
    &.active
      .wgt-dropdown-header
        color: $color-secondary

        &:after
          content: '\e83b'

      img.avatar
        background-color: $color-primary


.wgt-pagination
  &-root
    align-items: center
    display: flex
    list-style-type: none
    justify-content: flex-end
    padding: 0
    margin: 10px 10px 10px 5px

  &-item
    align-items: center
    display: flex
    height: 100%
    min-height: $widget-min-height

  &-link
    background-color: $color-background-lighter
    border-top: thin solid $color-background-dark
    border-bottom: thin solid $color-background-dark
    color: $color-text-dark-secondary
    display: flex
    font-size: $font-size-small
    padding: 5px
    text-decoration: none
    user-select: none

    &:hover
      color: $color-secondary

  &-disabled
    .wgt-pagination-link
      color: $color-text-dark-hint
      background-color: $color-background-light

  &-active
    display: none

  &-last
    .wgt-pagination-link
      border-right: thin solid $color-background-dark
      border-top-right-radius: 3px
      border-bottom-right-radius: 3px

  &-first
    .wgt-pagination-link
      border-left: thin solid $color-background-dark
      border-top-left-radius: 3px
      border-bottom-left-radius: 3px


.wgt-stats
  &-root
    padding: 5px 10px
    font-size: $font-size-smaller
    color: $color-text-dark-secondary


.wgt-clear
  &-root
    font-size: $font-size-small
    color: $color-text-dark-secondary
    display: inline-block
    padding: 10px 5px

    &:hover
      color: $color-secondary


.wgt-refined-values
  &-body > div
    align-items: center
    display: flex

    &:hover
      .wgt-refined-values-link,
      .wgt-refined-values-clear
        color: $color-secondary

  &-count
    display: none

  &-clear
    color: $color-text-dark-hint
    font-size: $font-size-small
    padding-right: 5px
    position: relative
    top: 1px

  &-link
    align-items: center
    color: $color-primary
    cursor: pointer
    display: flex
    font:
      family: $font-headings
      weight: lighter
    user-select: none
    text-decoration: none


// Animations
@-webkit-keyframes fLoaderBackground
  0%
    background-position: 0% 0%
  50%
    background-position: 100% 0%
  100%
    background-position: 0% 0%

@-moz-keyframes fLoaderBackground
  0%
    background-position: 0% 0%
  50%
    background-position: 100% 0%
  100%
    background-position: 200% 0%

@keyframes fLoaderBackground
  0%
    background-position: 0% 0%
  50%
    background-position: 100% 0%
  100%
    background-position: 200% 0%
